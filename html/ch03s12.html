<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>12.&nbsp;Views</title><link rel="stylesheet" type="text/css" href="html.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Joomla Extensions Development"><link rel="up" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Components"><link rel="prev" href="ch03s11.html" title="11.&nbsp;Controllers"><link rel="next" href="ch03s13.html" title="13.&nbsp;Tables"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">12.&nbsp;Views</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s11.html"><img src="images/prev.svg" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch03s13.html"><img src="images/next.svg" alt="Next"></a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="com-views"></a>12.&nbsp;Views</h2></div></div></div><p>Views, in Joomla 3, referred to two different things: the View classes and the view templates. In fact, the view templates were placed in a <code class="code">tmpl</code> folder under each View's folder which was a bad idea: you had the output rendering in a subdirectory of the business logic, making it hard to discern when one ends and the other begins.</p><p>In Joomla 4 there is a separation of these two very different types of code. The view classes (which we will call Views) are placed in the <code class="filename">src/View</code> folder with one subdirectory for each view in <code class="code">Uppercasefirst</code> format. The view templates are placed in the <code class="filename">tmpl</code> folder in your component's folder with one subdirectory for each view they correspond to in <code class="code">lowercase</code> format.</p><div class="warning"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.svg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p><span class="bold"><strong>Folder and file name case matters</strong></span>. You may not notice it when developing on a Windows or macOS machine with a case-insensitive filesystem but you will <span class="emphasis"><em>definitely</em></span> suffer if you mix it up when deploying your component on a Linux-based server where the filesystem is virtually guaranteed to be case-sensitive.</p><p>Let's say you have a view which is called Foobar.</p><p>Your HTML View class file path relative to your component's root MUST be <code class="filename">src/View/Foobar/HtmlView.php</code>. It can NOT be <code class="filename">src/View/FooBar/HtmlView.php</code> (mixed case in the subdirectory) or <code class="filename">src/View/Foobar/HTMLVIEW.php</code> (wrong case for the filename)!</p><p>Your view <code class="filename">default.php</code> view template file path relative to your component's root MUST be <code class="filename">tmpl/foobar/default.php</code>. It cannot be <code class="filename">tmpl/Foobar/default.php</code> (wrong case for the subdirectory)!</p><p>Knowing this will save you hours of &#8220;fun&#8221; hitting your head against a brick wall, wondering why it works on your computer but not on your server.</p></td></tr></table></div><p>The bulk of the implementation logic for Joomla 4 MVC Views is the same as in Joomla 3 MVC.</p><p>The View classes extend from one of the base Joomla MVC View super-classes:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">\Joomla\CMS\MVC\View\AbstractView</span></dt><dd><p>This is the base class all views extend from. You will have to implement the <code class="code">display</code> method yourself.</p><p>It is very rare that you are going to extend from this view. Typically, this is something you will do when you are rendering a non-HTML document, without using a view template file. Do note that if you are outputting JSON you may want to use <code class="code">\Joomla\CMS\MVC\View\JsonView</code> instead.</p></dd><dt><span class="term">\Joomla\CMS\MVC\View\HtmlView</span></dt><dd><p>This is the most common view type, used whenever you want to display HTML output in the front- or backend.</p><div class="note"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.svg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>Even though Joomla defines the <code class="code">\Joomla\CMS\MVC\View\ListView</code> class for administrator list views and <code class="code">\Joomla\CMS\MVC\View\FormView</code> for add/edit views, these view classes are no longer used in Joomla 4. Both types of pages use the HtmlView instead. As a result, the two more specialised view types will not be mentioned again in this book.</p></td></tr></table></div></dd><dt><span class="term">\Joomla\CMS\MVC\View\JsonView</span></dt><dd><p>This view type is used to output a JSON document. You set its <code class="code">_output</code> property and that's all there is to it. This is rarely used on its own.</p></dd><dt><span class="term">\Joomla\CMS\MVC\View\JsonApiView</span></dt><dd><p>This view type is used exclusively in the Api (JSON API) application. It's used to output data from the JSON API in JSON format (what else?).</p></dd><dt><span class="term">\Joomla\CMS\MVC\View\CategoriesView</span></dt><dd><p>This view type is used in the frontend (site) application to display a list of categories. You are supposed to use this if you are using Joomla's core categories in your component.</p></dd><dt><span class="term">\Joomla\CMS\MVC\View\CategoryView</span></dt><dd><p>This view type is used in the frontend (site) application to display a single category, typically with a list of its subcategories and items. You are supposed to use this if you are using Joomla's core categories in your component.</p></dd><dt><span class="term">\Joomla\CMS\MVC\View\CategoryFeedView</span></dt><dd><p>This view type is used in the frontend (site) application to display an RSS / Atom feed of a category's objects. You are supposed to use this if you are using Joomla's core categories in your component.</p></dd></dl></div><p>Since Joomla 4.2.0 you can use <code class="code">$this-&gt;getCurrentUser()</code> in a view to get the Joomla User object for the currently logged in user.</p><p>Since Joomla 4.0.0 you can get the Joomla event dispatcher with <code class="code">$this-&gt;getDispatcher()</code> to run plugin events as explained <a class="link" href="ch03s11.html#com-controllers-basic-services" title="11.1.&nbsp;Basic services in your Controller">in the Controller documentation</a>.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s11.html"><img src="images/prev.svg" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch03.html"><img src="images/up.svg" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch03s13.html"><img src="images/next.svg" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">11.&nbsp;Controllers&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.svg" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;13.&nbsp;Tables</td></tr></table></div></body></html>