<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>4.&nbsp;Directory structure</title><link rel="stylesheet" type="text/css" href="html.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="index.html" title="Joomla Extensions Development"><link rel="up" href="ch03.html" title="Chapter&nbsp;3.&nbsp;Components"><link rel="prev" href="ch03s03.html" title="3.&nbsp;The lifetime of a component"><link rel="next" href="ch03s05.html" title="5.&nbsp;Service provider"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.&nbsp;Directory structure</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch03s03.html"><img src="images/prev.svg" alt="Prev"></a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;3.&nbsp;Components</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch03s05.html"><img src="images/next.svg" alt="Next"></a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="com-dirs"></a>4.&nbsp;Directory structure</h2></div></div></div><p>The directory structure of a typical Joomla 4 MVC component is as follows, assuming it's called <code class="code">com_example</code> and has the namespace prefix <code class="code">\Acme\Example</code>. Directories are suffixed with <code class="filename">/</code>. Please note that capitalisation matters (directory and file names are case-sensitive).</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">administrator/components/com_example/</code> The component's backend directory</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">forms/</code> Optional. List view forms and search tools forms (formerly in models/forms)</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">items.xml</code> An example form for the Items list view.</p></li><li class="listitem"><p><code class="filename">filter_items.xml</code> An example search tools form for the Items list view.</p></li><li class="listitem"><p><code class="filename">item.xml</code> An example form for the Item edit view.</p></li><li class="listitem"><p>&#8230;</p></li></ul></div></li><li class="listitem"><p><code class="filename">language/</code> Not required but you should always somehow provide language files with your extension. The language files of your component (typically installed in <code class="filename">administrator/languages/en-GB</code>)</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">en-GB/</code> The English (Great Britain) language files. That's the default Joomla language.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">com_example.ini</code> The main language file for your component's views. Note that there is no longer an <code class="filename">en-GB.</code> prefix; it's implied by the directory the language file is in.</p></li><li class="listitem"><p><code class="filename">com_example.sys.ini</code> The language file used by Joomla to display backend menu items, permissions, the component's Options page, core categories used by your component, select menu item types in the menu manager, and render each menu item type's configuration parameters.</p></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">layouts/</code> Optional. Any Joomla Layouts you want to ship with your extension for use in its backend.</p></li><li class="listitem"><p><code class="filename">services/</code> Required. Here lives the <a class="link" href="ch03s05.html" title="5.&nbsp;Service provider">Service Provider</a> of your component.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">provider.php</code> The service provider file.</p></li></ul></div></li><li class="listitem"><p><code class="filename">sql/</code> Optional, unless your extension makes changes to database structure or content.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">updates/</code> Required. Your component's schema (database) files applied on each update.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">mysql/</code> Optional. Indicates updates for sites running on the MySQL database.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">1.0.0-20220815-0000.sql</code> A database update file. You should name them <code class="filename">version-date-time.sql</code>. The version part is mandatory.</p></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">install.mysql.utf8.sql</code> The SQL executed on your component's first installation. Update files are not executed in this case.</p></li><li class="listitem"><p><code class="filename">uninstall.mysql.utf8.sql</code> The SQL executed on your component's uninstallation. Remove any tables or database data you created.</p></li></ul></div></li><li class="listitem"><p>src/ Required. The root of your extension's PHP files and the root of the PSR-4 <code class="code">\Acme\Example\Administrator</code> namespace prefix.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">Controller/</code> Required. Your component's controllers</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">ItemsController.php</code> An example controller for a ListView</p></li><li class="listitem"><p><code class="filename">ItemController.php</code> An example controller for an AdminView</p></li><li class="listitem"><p>&#8230;</p></li></ul></div></li><li class="listitem"><p><code class="filename">Dispatcher/</code> Optional. Holds your custom component dispatcher.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">Dispatcher.php</code> Your custom component dispatcher.</p></li></ul></div></li><li class="listitem"><p><code class="filename">Extension/</code> Optional. Holds your custom extension class.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">ExampleExtension.php</code> Your custom extension class.</p></li></ul></div></li><li class="listitem"><p><code class="filename">Field/</code> Optional. Custom form fields. Use them in your XML forms using the attribute <code class="code">addfieldprefix="Acme\Example\Administrator\Field"</code>.</p></li><li class="listitem"><p><code class="filename">Model/</code> Required. Your component's Models.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">ItemsModel.php</code> An example model for the Items list view.</p></li><li class="listitem"><p><code class="filename">ItemModel.php</code> An example model for the Item view. Handles editing and adding records.</p></li><li class="listitem"><p>&#8230;</p></li></ul></div></li><li class="listitem"><p><code class="filename">Provider/</code> Optional. Custom service providers.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">RouterFactory.php</code> Example of a RouterFactory provider, if you need a frontend SEF URL router.</p></li></ul></div></li><li class="listitem"><p><code class="filename">Router/</code> Optional. The recommended place to put your custom RouterFactory, if you need a frontend SEF URL router.</p></li><li class="listitem"><p><code class="filename">Service/</code> Optional. Custom services.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">Html/</code> Optional. Where your custom HTML services (which are made available through Joomla's HTMLHelper) live.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">Example.php</code> An example HTML service.</p></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">Table/</code> Required. Your Table classes.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">ItemTable.php</code> An example table class for the items of this component (which should ideally live in the <span class="database">#__example_items</span> table if you want to follow Joomla best practices).</p></li></ul></div></li><li class="listitem"><p><code class="filename">View/</code> Required. Your view classes. All subdirectories must be in Uppercasefirst format and match the controller's name before the <code class="code">Controller</code> word.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">Items/</code> The directory for the Items list view.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">HtmlView.php</code> The HTML view class for rendering this backend view.</p></li></ul></div></li><li class="listitem"><p><code class="filename">Item/</code> The directory for the Item add/edit view.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">HtmlView.php</code> The HTML view class for rendering this backend view.</p></li></ul></div></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">tmpl/</code> Required. The view templates for your backend views.</p><div class="important"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="images/important.svg"></td><th align="left"></th></tr><tr><td align="left" valign="top"><p>All the sub-directories are in <span class="bold"><strong>all lowercase</strong></span>. This is VERY important!</p><p>Be careful if you are developing on Windows or macOS (which use case-insensitive filesystems). You might accidentally use MixedCase or Uppercasefirst folder names. While this will work fine on Windows and macOS it will <span class="emphasis"><em>fail</em></span> on the Linux servers most sites run on. That's because Linux primarily uses case-sensitive filesystems.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">items/</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">default.php</code> The view template for the Items view.</p></li></ul></div></li><li class="listitem"><p><code class="filename">item/</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">edit.php</code> The view template for the Item view.</p></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">access.xml</code> The component's permissions configuration file</p></li><li class="listitem"><p><code class="filename">config.xml</code> The component;s Options page form file</p></li><li class="listitem"><p><code class="filename">example.xml</code> The component's XML manifest</p></li></ul></div></li><li class="listitem"><p><code class="filename">components/com_example/</code> The component's frontend directory</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">forms/</code> Optional. Any forms for frontend views (formerly in models/forms).</p></li><li class="listitem"><p><code class="filename">language/</code> Not required but you should always somehow provide language files with your extension. The language files of your component (typically installed in <code class="filename">languages/en-GB</code>)</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">en-GB/</code> The English (Great Britain) language files. That's the default Joomla language.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">com_example.ini</code> The main language file for your component's frontend views.</p></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">layouts/</code> Optional. Any Joomla Layouts you want to ship with your extension for use in its frontend.</p></li><li class="listitem"><p>src/ Required. The root of your extension's PHP files and the root of the PSR-4 <code class="code">\Acme\Example\Site</code> namespace prefix.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">Controller/</code> Required. Your component's controllers</p></li><li class="listitem"><p><code class="filename">Dispatcher/</code> Optional. Holds your custom component dispatcher for the frontend only.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">Dispatcher.php</code> Your custom component frontend dispatcher.</p></li></ul></div></li><li class="listitem"><p><code class="filename">Model/</code> Required. Your component's Models.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">ItemsModel.php</code> An example model for the Items list view.</p></li><li class="listitem"><p><code class="filename">ItemModel.php</code> An example model for the Item view. Handles editing and adding records.</p></li><li class="listitem"><p>&#8230;</p></li></ul></div></li><li class="listitem"><p><code class="filename">Service/</code> Optional. Custom services.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="filename">Category.php</code> Optional. Your site's category service.</p></li><li class="listitem"><p><code class="filename">Router.php</code> Optional. Your site's SEF router.</p></li></ul></div></li><li class="listitem"><p><code class="filename">View/</code> Required. Your frontend view classes. All subdirectories must be in Uppercasefirst format and match the controller's name before the <code class="code">Controller</code> word.</p></li></ul></div></li><li class="listitem"><p><code class="filename">tmpl/</code> Required. The view templates for your backend views. All the sub-directories are in <span class="bold"><strong>all lowercase</strong></span>.</p></li></ul></div></li><li class="listitem"><p><code class="filename">api/components/com_example/</code> Optional. Your Joomla API application integration. Just having this directory is not enough, you will also need a published plugin for your application in the <code class="filename">webservices</code> folder.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>src/ Required. The root of your extension's PHP files and the root of the PSR-4 <code class="code">\Acme\Example\Api</code> namespace prefix.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: square; "><li class="listitem"><p><code class="filename">Controller/</code> Required. Your component's controllers</p></li><li class="listitem"><p><code class="filename">View/</code> Required. Your API view classes. All subdirectories must be in Uppercasefirst format and match the controller's name before the <code class="code">Controller</code> word. Note that these views DO NOT use view template files; they return JSON data directly.</p></li></ul></div></li></ul></div></li><li class="listitem"><p><code class="filename">media/com_example/</code> Optional. Your component's static assets.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><code class="filename">css/</code> Optional. Custom CSS files for your component.</p></li><li class="listitem"><p><code class="filename">js/</code> Optional. Custom JavaScript files for your component.</p></li><li class="listitem"><p><code class="filename">joomla.asset.json</code> The <a class="link" href="ch02s03.html" title="3.&nbsp;Web Asset Management">WebAssetManager configuration file</a> for your static assets.</p></li></ul></div></li></ul></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s03.html"><img src="images/prev.svg" alt="Prev"></a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch03.html"><img src="images/up.svg" alt="Up"></a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch03s05.html"><img src="images/next.svg" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">3.&nbsp;The lifetime of a component&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.svg" alt="Home"></a></td><td width="40%" align="right" valign="top">&nbsp;5.&nbsp;Service provider</td></tr></table></div></body></html>